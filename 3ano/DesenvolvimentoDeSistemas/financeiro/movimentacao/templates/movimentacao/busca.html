{%extends 'base.html'%}
{%block titulo%}pesquisa | Bigue Company{%endblock%}
{%include 'parciais/_messages.html'%}
{% block sair %}
{% if user.is_authenticated %}
<ul class="navbar-nav">
    <li class="nav-item active">


        <a class="nav-link text-white" href="{% url 'logout' %}">Sair</a>
    </li>
</ul>

{%endif%}
{%endblock%}
{%block conteudo%}
{% if user.is_authenticated %}

{% if num_transacoes > 0 %}
    <h1 class="text-center">Extrato</h1>
<table class="table mt-3 table-striped">
    <thead class="thead-dark">
        <tr>
            <th scope="col">Id</th>
            <th scope="col">Data</th>
            <th scope="col">Descrição</th>
            <th scope="col">Valor</th>
            <th scope="col">Tipo</th>
        </tr>
    </thead>
    <tbody>

        {% for transacao in transacoes %}
        {% if transacao.tipo_id == 1 %}
        <tr class="text-white bg-danger">
            <th scope="row">{{transacao.id}}</th>
            <td>{{transacao.data|date:'d/m/Y'}}</td>
            <td>{{transacao.descricao}}</td>
            <td>R$ {{transacao.valor}}</td>
            <td>{{transacao.tipo}}</td>
        </tr>
        {% else %}
        <tr class="text-white bg-success">
            <th scope="row">{{transacao.id}}</th>
            <td>{{transacao.data|date:'d/m/Y'}}</td>
            <td>{{transacao.descricao}}</td>
            <td>R$ {{transacao.valor}}</td>
            <td>{{transacao.tipo}}</td>
        </tr>
        {% endif%}
        {% endfor%}
    </tbody>
</table>


{% else %}
<h1 class="text-center my-5">Você não possui nenhuma transação</h1>
{% endif%}
<div class="w-100 d-flex justify-content-center mt-5">
    <a href="#" class="btn btn-primary w-25" role="button"
        aria-pressed="true">Imprimir</a>
</div>




{%else%}
<h1 class="text-center mb-5">Bem vindo ao sistema de finaças da Bigue Company
</h1>
<div class="w-100 d-flex justify-content-center">

    <a href="{% url 'login' %}" class="btn btn-primary w-25" role="button"
        aria-pressed="true">Login</a>
</div>

{%endif%}
{%endblock%}